<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.stoneitgt.sogongja.user.mapper.AreaMapper">

	<select id="getTradingAreaList" parameterType="map" resultType="com.stoneitgt.common.LowerKeyMap">
		/* file : AreaMapper.xml, id : getTradingAreaList */
		  SELECT A.*
		       , B.AREA_TYPE_NAME
		       , B.STROKE_WEIGHT
		       , B.STROKE_COLOR
		       , B.STROKE_OPACITY
		       , B.STROKE_STYLE
		       , B.FILL_COLOR
		       , B.FILL_OPACITY
		       , B.OVER_FILL_COLOR
		       , B.OVER_FILL_OPACITY
		    FROM ST_TRADING_AREA A
		       INNER JOIN ST_TRADING_AREA_TYPE B
		               ON A.AREA_TYPE = B.AREA_TYPE
		   WHERE A.DEL_FLAG          = 0
		ORDER BY A.AREA_SEQ
    </select>

	<select id="getTradingAreaMapList" parameterType="string" resultType="com.stoneitgt.common.LowerKeyMap">
		/* file : AreaMapper.xml, id : getTradingAreaMapList */
		  SELECT B.MAP_SEQ
		       , B.AREA_SEQ
		       , B.MAP_TYPE
		       , B.LATITUDE
		       , B.LONGITUDE
		    FROM ST_TRADING_AREA A
		       INNER JOIN ST_TRADING_AREA_MAP B
		               ON A.AREA_SEQ = B.AREA_SEQ
		   WHERE A.DEL_FLAG          = 0
		     AND B.DEL_FLAG          = 0
		   <if test="mapType != null and mapType != ''">
		     AND B.MAP_TYPE = #{mapType}
		   </if>
		ORDER BY B.MAP_TYPE DESC
		       , B.MAP_SEQ
    </select>

	<select id="getRegionAreaList" parameterType="map" resultType="com.stoneitgt.common.LowerKeyMap">
		/* file : AreaMapper.xml, id : getRegionAreaList */
		SELECT A.*
			 , B.AREA_TYPE_NAME
			 , B.STROKE_WEIGHT
			 , B.STROKE_COLOR
			 , B.STROKE_OPACITY
			 , B.STROKE_STYLE
			 , B.FILL_COLOR
			 , B.FILL_OPACITY
			 , B.OVER_FILL_COLOR
			 , B.OVER_FILL_OPACITY
		FROM ST_REGION_AREA A
				 INNER JOIN ST_TRADING_AREA_TYPE B
							ON A.AREA_TYPE = B.AREA_TYPE
		WHERE A.DEL_FLAG          = 0
		ORDER BY A.AREA_SEQ
	</select>

	<select id="getRegionAreaMapList" parameterType="string" resultType="com.stoneitgt.common.LowerKeyMap">
		/* file : AreaMapper.xml, id : getRegionAreaMapList */
		SELECT B.MAP_SEQ
		, B.AREA_SEQ
		, B.MAP_TYPE
		, B.LATITUDE
		, B.LONGITUDE
		FROM ST_REGION_AREA A
		INNER JOIN ST_REGION_AREA_MAP B
		ON A.AREA_SEQ = B.AREA_SEQ
		WHERE A.DEL_FLAG          = 0
		AND B.DEL_FLAG          = 0
		<if test="mapType != null and mapType != ''">
			AND B.MAP_TYPE = #{mapType}
		</if>
		ORDER BY B.MAP_TYPE DESC
		, B.MAP_SEQ
	</select>

</mapper>