<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org" xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout" xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
<nav th:fragment="sidebar" class="sidebar">
    <div class="sidebar-header">
        <a th:href="@{/main}" class="sidebar-brand">
            <img th:src="@{/assets/images/logo.png}">
        </a>
        <div class="sidebar-toggler not-active">
            <span></span>
            <span></span>
            <span></span>
        </div>
    </div>
    <div class="sidebar-body">
        <ul class="nav" th:with="menu=${session.ss_admin.authMenu}">
            <th:block th:each="item : ${menu}">
                <li class="nav-item" th:if="${item.parent_menu_code == 'TOP'}">
                    <th:block th:if="${#strings.isEmpty(item.menu_link)}">
                        <a th:href="|#${item.menu_code}|" class="nav-link" data-toggle="collapse" role="button" aria-expanded="false" th:aria-controls="${item.menu_code}">
                            <i class="link-icon" th:data-feather="${item.menu_icon}"></i>
                            <span th:text="${item.menu_name}" class="link-title">메뉴명</span>
                            <i class="link-arrow" data-feather="chevron-down"></i>
                        </a>
                        <div class="collapse" th:id="${item.menu_code}">
                            <ul class="nav sub-menu">
                                <th:block th:each="sub : ${menu}">
                                    <li class="nav-item" th:if="${item.menu_code == sub.parent_menu_code}">
                                        <a th:href="@{${sub.menu_link}(menuCode=${sub.menu_code})}" class="nav-link" th:text="${sub.menu_name}">메뉴명</a>
                                    </li>
                                </th:block>
                            </ul>
                        </div>
                    </th:block>
                    <th:block th:unless="${#strings.isEmpty(item.menu_link)}">
                        <a th:href="@{${item.menu_link}(menuCode=${item.menu_code})}" class="nav-link">
                            <i class="link-icon" th:data-feather="${item.menu_icon}"></i>
                            <span th:text="${item.menu_name}" class="link-title">메뉴명</span>
                        </a>
                    </th:block>
                </li>
            </th:block>
        </ul>
    </div>
</nav>

</html>